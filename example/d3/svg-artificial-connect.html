<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>人工接通率</title>
  <style>
    .cls-1,
    .cls-10,
    .cls-2,
    .cls-9 {
      fill: #6cf;
    }

    .cls-1 {
      fill-opacity: 0.05;
    }

    .cls-10,
    .cls-11,
    .cls-12,
    .cls-2,
    .cls-4,
    .cls-5,
    .cls-7,
    .cls-9 {
      fill-rule: evenodd;
    }

    .cls-2 {
      filter: url(#filter);
    }

    .cls-3,
    .cls-4,
    .cls-5,
    .cls-6,
    .cls-8 {
      fill: none;
    }

    .cls-3,
    .cls-4,
    .cls-5,
    .cls-6 {
      stroke: #6cf;
    }

    .cls-3,
    .cls-6,
    .cls-8 {
      stroke-width: 1px;
    }

    .cls-4,
    .cls-5 {
      stroke-width: 2px;
    }

    .cls-5 {
      opacity: 0.35;
    }

    .cls-6 {
      opacity: 0.4;
    }

    .cls-7 {
      fill: url(#linear-gradient);
    }

    .cls-8 {
      stroke: url(#linear-gradient-2);
    }

    .cls-9 {
      filter: url(#filter-2);
    }

    .cls-10 {
      filter: url(#filter-3);
    }

    .cls-11,
    .cls-12 {
      fill: #6ff;
    }

    .cls-11 {
      opacity: 0.5;
    }

    .cls-12 {
      opacity: 0.3;
    }

    .cls-13 {
      font-size: 36px;
      filter: url(#filter-4);
      font-family: Impact;
    }

    .cls-13,
    .cls-14 {
      fill: #fff;
    }

    .cls-14 {
      font-size: 20px;
      opacity: 0.8;
      text-anchor: middle;
      font-family: "Microsoft YaHei";
      font-weight: 700;
    }
    .setting_up{
      list-style: none;
    }
    body{
      background: #163c59;
      color: #fff;
    }
    svg{
      margin: 0 auto;
    }
    #test{
      text-align: center;
      padding-top:5%;
    }
  </style>
</head>

<body>
  <div id="test">
    <svg id="组_11_拷贝_5" data-name="组 11 拷贝 5" xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink" width="219" height="215" viewBox="0 0 219 215">
      <defs>
        <clipPath id="clipPath">
          <path id="layer"/>
        </clipPath>
        <filter id="filter" x="471" y="228" width="219" height="215" filterUnits="userSpaceOnUse">
          <feGaussianBlur result="blur" stdDeviation="3.333" in="SourceAlpha" />
          <feComposite result="composite" />
          <feComposite result="composite-2" />
          <feComposite result="composite-3" />
          <feFlood result="flood" flood-color="#6cf" flood-opacity="0.4" />
          <feComposite result="composite-4" operator="in" in2="composite-3" />
          <feBlend result="blend" in2="SourceGraphic" />
          <feBlend result="blend-2" in="SourceGraphic" />
        </filter>
        <linearGradient id="linear-gradient" x1="514.031" y1="353" x2="645.969" y2="353" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#79feff" />
          <stop offset="1" stop-color="#8967f7" />
        </linearGradient>
        <linearGradient id="linear-gradient-2" x1="109" y1="173" x2="109" y2="77" gradientUnits="userSpaceOnUse">
          <stop offset="0" stop-color="#9df" />
          <stop offset="0.3" stop-color="#9df" stop-opacity="0" />
          <stop offset="0.7" stop-color="#9df" stop-opacity="0" />
          <stop offset="1" stop-color="#9df" />
        </linearGradient>
        <filter id="filter-2" x="564" y="301" width="33" height="29" filterUnits="userSpaceOnUse">
          <feGaussianBlur result="blur" stdDeviation="3.333" in="SourceAlpha" />
          <feComposite result="composite" />
          <feComposite result="composite-2" />
          <feComposite result="composite-3" />
          <feFlood result="flood" flood-color="#6cf" flood-opacity="0.35" />
          <feComposite result="composite-4" operator="in" in2="composite-3" />
          <feBlend result="blend" in2="SourceGraphic" />
          <feBlend result="blend-2" in="SourceGraphic" />
        </filter>
        <filter id="filter-3" x="564" y="377" width="33" height="29" filterUnits="userSpaceOnUse">
          <feGaussianBlur result="blur" stdDeviation="3.333" in="SourceAlpha" />
          <feComposite result="composite" />
          <feComposite result="composite-2" />
          <feComposite result="composite-3" />
          <feFlood result="flood" flood-color="#6cf" flood-opacity="0.35" />
          <feComposite result="composite-4" operator="in" in2="composite-3" />
          <feBlend result="blend" in2="SourceGraphic" />
          <feBlend result="blend-2" in="SourceGraphic" />
        </filter>
        <filter id="filter-4" x="57" y="101" width="106" height="49" filterUnits="userSpaceOnUse">
          <feGaussianBlur result="blur" stdDeviation="3.333" in="SourceAlpha" />
          <feComposite result="composite" />
          <feComposite result="composite-2" />
          <feComposite result="composite-3" />
          <feFlood result="flood" flood-color="#fec" flood-opacity="0.2" />
          <feComposite result="composite-4" operator="in" in2="composite-3" />
          <feBlend result="blend" in2="SourceGraphic" />
          <feBlend result="blend-2" in="SourceGraphic" />
        </filter>
      </defs>
      <g id="组_11_拷贝" data-name="组 11 拷贝">
        <rect id="矩形_6" data-name="矩形 6" class="cls-1" x="9" y="9" width="200" height="196" />
        <path id="矩形_681_拷贝_3" data-name="矩形 681 拷贝 3" class="cls-2"
          d="M480,237h6v2h-6v-2Zm0,0h2v6h-2v-6Zm198,0h2v6h-2v-6Zm-4,0h6v2h-6v-2ZM480,431h6v2h-6v-2Zm0-4h2v6h-2v-6Zm198,0h2v6h-2v-6Zm-4,4h6v2h-6v-2Z"
          transform="translate(-471 -228)" />
        <g id="组_794" data-name="组 794">
          <circle id="椭圆_1649" data-name="椭圆 1649" class="cls-3" cx="109" cy="125" r="70" />
          <path id="矩形_1767" data-name="矩形 1767" class="cls-4"
            d="M653.324,321a80.031,80.031,0,0,1,0,64m-146.648,0a80.031,80.031,0,0,1,0-64"
            transform="translate(-471 -228)" />
          <path id="矩形_1767_拷贝_2" data-name="矩形 1767 拷贝 2" class="cls-4"
            d="M653.324,321a80.031,80.031,0,0,1,0,64m-146.648,0a80.031,80.031,0,0,1,0-64"
            transform="translate(-471 -228)" />
          <path id="矩形_1767_拷贝" data-name="矩形 1767 拷贝" class="cls-5"
            d="M662.49,317a90.04,90.04,0,0,1,0,72m-164.98,0a90.04,90.04,0,0,1,0-72" transform="translate(-471 -228)" />
          <circle id="椭圆_1649_拷贝" data-name="椭圆 1649 拷贝" class="cls-6" cx="109" cy="125" r="55" />
          <g clip-path="url(#clipPath)">
            <path id="矩形_1767_拷贝_35" data-name="矩形 1767 拷贝 35" class="cls-7"
              d="M637.843,357.057q0.105-1.518.132-3.057h8c-0.019,1.261-.076,2.511-0.164,3.754ZM637.975,352q-0.027-1.539-.132-3.057l7.968-.7c0.088,1.243.145,2.493,0.164,3.754h-8Zm-0.29-5.051c-0.106-1.02-.241-2.031-0.4-3.035l7.877-1.389c0.2,1.232.368,2.473,0.5,3.727Zm-0.75-5q-0.291-1.507-.657-2.989l7.731-2.072c0.3,1.21.567,2.436,0.8,3.672Zm-1.181-4.919q-0.423-1.478-.919-2.92l7.519-2.737q0.615,1.77,1.128,3.586Zm-1.6-4.8q-0.551-1.433-1.174-2.827l7.25-3.381q0.768,1.712,1.444,3.471Zm-2.012-4.643c-0.448-.919-0.924-1.822-1.419-2.713l6.927-4c0.61,1.093,1.2,2.2,1.747,3.329Zm-2.416-4.446c-0.527-.876-1.072-1.739-1.643-2.583l6.552-4.588c0.7,1.035,1.373,2.095,2.018,3.171Zm-2.8-4.213q-0.9-1.239-1.862-2.429l6.13-5.144c0.791,0.971,1.548,1.969,2.284,2.985Zm-3.154-3.956q-1-1.155-2.067-2.256l5.657-5.657q1.309,1.349,2.538,2.771Zm-3.481-3.67q-1.1-1.063-2.256-2.067l5.142-6.128q1.42,1.231,2.771,2.538Zm-3.783-3.359q-1.188-.963-2.429-1.862l4.588-6.552c1.016,0.736,2.014,1.493,2.985,2.284Zm-4.059-3.021c-0.844-.571-1.707-1.116-2.583-1.643l4-6.927c1.076,0.645,2.136,1.315,3.171,2.018Zm-4.316-2.64c-0.891-.5-1.794-0.971-2.713-1.419L608.8,293.6c1.13,0.549,2.236,1.137,3.329,1.747Zm-4.529-2.257q-1.395-.623-2.827-1.174l2.737-7.52q1.761,0.672,3.471,1.444Zm-4.707-1.856q-1.443-.5-2.92-0.919l2.071-7.728q1.815,0.515,3.586,1.128Zm-4.85-1.443q-1.479-.368-2.989-0.657l1.389-7.877c1.236,0.236,2.462.5,3.672,0.8Zm-4.958-1.009c-1-.157-2.015-0.292-3.035-0.4l0.7-7.974c1.254,0.127,2.5.3,3.727,0.5Zm-5.029-.556q-1.518-.1-3.057-0.132v-8c1.261,0.019,2.511.076,3.754,0.164ZM579,295.025q-1.539.027-3.057,0.132l-0.7-7.968c1.243-.088,2.493-0.145,3.754-0.164v8Zm-5.051.29c-1.02.106-2.031,0.241-3.035,0.4l-1.389-7.877c1.232-.2,2.473-0.368,3.727-0.5Zm-5,.75q-1.508.291-2.989,0.657l-2.072-7.731c1.21-.3,2.436-0.567,3.672-0.8Zm-4.919,1.181q-1.477.423-2.92,0.919l-2.737-7.519q1.77-.615,3.586-1.128Zm-4.8,1.6q-1.433.551-2.827,1.174l-3.381-7.25q1.711-.768,3.471-1.444Zm-4.643,2.012c-0.919.448-1.822,0.924-2.713,1.419l-4-6.927c1.093-.61,2.2-1.2,3.329-1.747Zm-4.446,2.416c-0.876.527-1.739,1.072-2.583,1.643l-4.588-6.552c1.035-.7,2.1-1.373,3.171-2.018Zm-4.213,2.8q-1.239.9-2.429,1.862l-5.144-6.13c0.971-.791,1.969-1.548,2.985-2.284Zm-3.956,3.154q-1.155,1-2.256,2.067l-5.657-5.657q1.348-1.31,2.771-2.538Zm-3.67,3.481q-1.063,1.1-2.067,2.256l-6.128-5.142q1.231-1.421,2.538-2.771Zm-3.359,3.783q-0.963,1.188-1.862,2.429l-6.552-4.588c0.736-1.016,1.493-2.014,2.284-2.985Zm-3.021,4.059c-0.571.844-1.116,1.707-1.643,2.583l-6.927-4c0.645-1.076,1.315-2.136,2.018-3.171Zm-2.64,4.316c-0.5.891-.971,1.794-1.419,2.713L520.6,324.2c0.549-1.13,1.137-2.236,1.747-3.329Zm-2.257,4.529q-0.622,1.395-1.174,2.827l-7.52-2.737q0.672-1.761,1.444-3.471Zm-1.856,4.707q-0.5,1.443-.919,2.92l-7.728-2.071q0.514-1.815,1.128-3.586Zm-1.443,4.85q-0.368,1.479-.657,2.989l-7.877-1.389c0.236-1.236.5-2.462,0.8-3.672Zm-1.009,4.958c-0.157,1-.292,2.015-0.4,3.035l-7.974-.7c0.127-1.254.3-2.5,0.5-3.727Zm-0.556,5.029q-0.105,1.518-.132,3.057h-8c0.019-1.261.076-2.511,0.164-3.754ZM522.025,354q0.027,1.539.132,3.057l-7.968.7c-0.088-1.243-.145-2.493-0.164-3.754h8Zm0.29,5.051c0.106,1.02.241,2.031,0.4,3.035l-7.877,1.389c-0.2-1.232-.368-2.473-0.5-3.727Zm0.75,5q0.291,1.507.657,2.989l-7.731,2.072c-0.3-1.21-.567-2.436-0.8-3.672Zm1.181,4.919q0.423,1.478.919,2.92l-7.519,2.737q-0.615-1.77-1.128-3.586Zm1.6,4.8q0.551,1.433,1.174,2.827l-7.25,3.381q-0.768-1.712-1.444-3.471Zm2.012,4.643c0.448,0.919.924,1.822,1.419,2.713l-6.927,4c-0.61-1.093-1.2-2.2-1.747-3.329Zm2.416,4.446c0.527,0.876,1.072,1.739,1.643,2.583l-6.552,4.588c-0.7-1.035-1.373-2.095-2.018-3.171Zm2.8,4.213q0.9,1.239,1.862,2.429l-6.13,5.144c-0.791-.971-1.548-1.969-2.284-2.985Zm3.154,3.956q1,1.155,2.067,2.256l-5.657,5.657q-1.309-1.349-2.538-2.771Zm3.481,3.67q1.1,1.063,2.256,2.067l-5.142,6.128q-1.42-1.231-2.771-2.538Zm3.783,3.359q1.188,0.963,2.429,1.862l-4.588,6.552c-1.016-.736-2.014-1.493-2.985-2.284Zm4.059,3.021c0.844,0.571,1.707,1.116,2.583,1.643l-4,6.927c-1.076-.645-2.136-1.315-3.171-2.018Zm4.316,2.64c0.891,0.5,1.794.971,2.713,1.419L551.2,412.4c-1.13-.549-2.236-1.137-3.329-1.747Zm4.529,2.257q1.395,0.623,2.827,1.174l-2.737,7.52q-1.761-.672-3.471-1.444Zm4.707,1.856q1.443,0.5,2.92.919l-2.071,7.728q-1.815-.515-3.586-1.128Zm4.85,1.443q1.479,0.368,2.989.657l-1.389,7.877c-1.236-.236-2.462-0.5-3.672-0.8Zm4.958,1.009c1,0.157,2.015.292,3.035,0.4l-0.7,7.974c-1.254-.127-2.5-0.3-3.727-0.5Zm5.029,0.556q1.518,0.1,3.057.132v8c-1.261-.019-2.511-0.076-3.754-0.164ZM581,410.975q1.539-.027,3.057-0.132l0.7,7.968c-1.243.088-2.493,0.145-3.754,0.164v-8Zm5.051-.29c1.02-.106,2.031-0.241,3.035-0.4l1.389,7.877c-1.232.2-2.473,0.368-3.727,0.5Zm5-.75q1.508-.291,2.989-0.657l2.072,7.731c-1.21.3-2.436,0.567-3.672,0.8Zm4.919-1.181q1.477-.423,2.92-0.919l2.737,7.519q-1.77.615-3.586,1.128Zm4.8-1.6q1.433-.551,2.827-1.174l3.381,7.25q-1.711.768-3.471,1.444Zm4.643-2.012c0.919-.448,1.822-0.924,2.713-1.419l4,6.927c-1.093.61-2.2,1.2-3.329,1.747Zm4.446-2.416c0.876-.527,1.739-1.072,2.583-1.643l4.588,6.552c-1.035.7-2.1,1.373-3.171,2.018Zm4.213-2.8q1.239-.9,2.429-1.862l5.144,6.13c-0.971.791-1.969,1.548-2.985,2.284Zm3.956-3.154q1.155-1,2.256-2.067l5.657,5.657q-1.348,1.31-2.771,2.538Zm3.67-3.481q1.063-1.1,2.067-2.256l6.128,5.142q-1.231,1.421-2.538,2.771Zm3.359-3.783q0.963-1.188,1.862-2.429l6.552,4.588c-0.736,1.016-1.493,2.014-2.284,2.985Zm3.021-4.059c0.571-.844,1.116-1.707,1.643-2.583l6.927,4c-0.645,1.076-1.315,2.136-2.018,3.171Zm2.64-4.316c0.5-.891.971-1.794,1.419-2.713L639.4,381.8c-0.549,1.13-1.137,2.236-1.747,3.329Zm2.257-4.529q0.622-1.395,1.174-2.827l7.52,2.737q-0.672,1.761-1.444,3.471Zm1.856-4.707q0.5-1.443.919-2.92l7.728,2.071q-0.514,1.815-1.128,3.586Zm1.443-4.85q0.368-1.479.657-2.989l7.877,1.389c-0.236,1.236-.5,2.462-0.8,3.672Zm8.886-3.569-7.877-1.389c0.157-1,.292-2.015.4-3.035l7.974,0.7C645.532,361,645.36,362.243,645.164,363.475Z"
              transform="translate(-471 -228)" />
          </g>
          <circle id="椭圆_1649_拷贝_3" data-name="椭圆 1649 拷贝 3" class="cls-8" cx="109" cy="125" r="48" />
          <path id="多边形_1680" data-name="多边形 1680" class="cls-9" d="M580,311.99l4.989,6H575.01Z"
            transform="translate(-471 -228)" />
          <path id="多边形_1680_拷贝" data-name="多边形 1680 拷贝" class="cls-10" d="M580,394.01l4.989-6H575.01Z"
            transform="translate(-471 -228)" />
          <path id="椭圆_1650" data-name="椭圆 1650" class="cls-11"
            d="M580,349c20.434,0,37,1.791,37,4s-16.566,4-37,4-37-1.791-37-4S559.565,349,580,349Z"
            transform="translate(-471 -228)" />
          <path id="椭圆_1650_拷贝" data-name="椭圆 1650 拷贝" class="cls-12"
            d="M580,338c25.4,0,46,6.716,46,15s-20.6,15-46,15-46-6.716-46-15S554.6,338,580,338Z"
            transform="translate(-471 -228)" />
        </g>
        <text id="text-content" data-name="92.5%" class="cls-13" x="33%" y="138.999"></text>
        <text id="当日人工接通率" class="cls-14" x="109" y="41">当日人工接通率</text>
      </g>
    </svg>
    <ul class="setting_up">
      <li>
          <span>数量：</span><input type="text" id="setting_num" placeholder="请输入1-100的数字">
      </li>
    </ul>
    <button type="button" id="artificial_btn" class="btn">确定</button>
  </div>
  <script src="../../js/d3.js"></script>
  <!--<script src="Donut3D.js"></script>-->
  <script src="../../js/jquery.js"></script>
  <script>
    function draw(num){
      let progress = Number(num);
      let svg = d3.select("#test").select("svg");
      let text = d3.select('#text-content')
      let arcs = d3
        .arc()
        .outerRadius(180)
        .innerRadius(0);
      let clipPath = svg.select("#layer");
      clipPath
        .attr("transform", "translate(" + 97 + "," + 110  + ")")
        .transition()
        .duration(3000)
        .attrTween("d", tween);
      function tween() {
        let i = d3.interpolate(
          { startAngle: deg2Radians(15), endAngle: deg2Radians(15) },
          {
            startAngle: deg2Radians(15),
            endAngle: deg2Radians(15) + valueToRadians(progress)
          }
        );
        return function(t) {
          text.html(Math.round(t * 100 * progress) / 100 + "%");
          return arcs(i(t));
        };
      }

      function valueToDegrees(value) {
        return (value / 100) * 360;
      }

      function valueToRadians(value) {
        return (valueToDegrees(value) * Math.PI) / 180;
      }

      function deg2Radians(deg) {
        return (deg * Math.PI) / 180;
      }
    }
    draw(66.5)
    $("#artificial_btn").click(function(){
      var text = $("#setting_num").val();
      if(text == ""){
        alert("请输入一个1到100的数字")
      }
      draw(text)
    })
  </script>
</body>